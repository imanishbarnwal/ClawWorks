"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/lib/runResearchTask.ts":
/*!************************************!*\
  !*** ./src/lib/runResearchTask.ts ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   runResearchTask: function() { return /* binding */ runResearchTask; }\n/* harmony export */ });\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/ethers/lib.esm/contract/contract.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/ethers/lib.esm/utils/units.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/ethers/lib.esm/constants/numbers.js\");\n/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./registry */ \"(app-pages-browser)/./src/lib/registry.ts\");\n/* harmony import */ var _contracts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./contracts */ \"(app-pages-browser)/./src/lib/contracts.ts\");\n/* harmony import */ var _wallet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wallet */ \"(app-pages-browser)/./src/lib/wallet.ts\");\n\n\n\n\nconst AGENT_TREASURY_ABI = [\n    \"function execute(address target, uint256 value, bytes calldata data) external returns (bytes)\",\n    \"function approveToken(address token, address spender, uint256 amount) external\",\n    \"function owner() view returns (address)\"\n];\n// Helper to extract revert reason\nconst getRevertReason = (err)=>{\n    var _err_info_error, _err_info;\n    if (err === null || err === void 0 ? void 0 : (_err_info = err.info) === null || _err_info === void 0 ? void 0 : (_err_info_error = _err_info.error) === null || _err_info_error === void 0 ? void 0 : _err_info_error.message) return err.info.error.message;\n    if (err === null || err === void 0 ? void 0 : err.message) return err.message;\n    return \"Transaction Failed (Unknown Reason)\";\n};\n/**\n * Executes the full research workflow by orchestrating the Research Agent.\n * Uses pure ethers.js v6 with window.ethereum.\n */ async function runResearchTask(onLog) {\n    console.log(\"\\uD83D\\uDE80 Starting Research Task Workflow (Ethers v6)\");\n    // 1. Connect Wallet\n    const { signer, address } = await (0,_wallet__WEBPACK_IMPORTED_MODULE_2__.connectWallet)();\n    console.log(\"\\uD83D\\uDC64 Connected wallet:\", address);\n    // 2. Load registry\n    const researchTreasuryAddr = _registry__WEBPACK_IMPORTED_MODULE_0__.AGENT_REGISTRY.research_agent.treasury_address;\n    const dataAgentAddr = _registry__WEBPACK_IMPORTED_MODULE_0__.AGENT_REGISTRY.data_agent.treasury_address;\n    const seoAgentAddr = _registry__WEBPACK_IMPORTED_MODULE_0__.AGENT_REGISTRY.seo_agent.treasury_address;\n    const formattingAgentAddr = _registry__WEBPACK_IMPORTED_MODULE_0__.AGENT_REGISTRY.formatting_agent.treasury_address;\n    // ✅ FIX 1 — Registry sanity check\n    if (!researchTreasuryAddr || !dataAgentAddr || !seoAgentAddr || !formattingAgentAddr) {\n        throw new Error(\"❌ Agent registry is missing treasury addresses\");\n    }\n    console.log(\"\\uD83D\\uDCD2 Registry OK\");\n    // 3. Instantiate contracts\n    const router = new ethers__WEBPACK_IMPORTED_MODULE_3__.Contract(_contracts__WEBPACK_IMPORTED_MODULE_1__.PROTOCOL_ROUTER_ADDRESS, _contracts__WEBPACK_IMPORTED_MODULE_1__.ROUTER_ABI, signer);\n    const researchTreasury = new ethers__WEBPACK_IMPORTED_MODULE_3__.Contract(researchTreasuryAddr, AGENT_TREASURY_ABI, signer);\n    // ✅ FIX 2 — Execution authority check\n    try {\n        const treasuryOwner = await researchTreasury.owner();\n        console.log(\"\\uD83C\\uDFE6 Research Treasury Owner:\", treasuryOwner);\n        console.log(\"✍️ Connected Wallet:\", address);\n        if (treasuryOwner.toLowerCase() !== address.toLowerCase()) {\n            console.warn(\"⚠️ Wallet is NOT treasury owner — execute() may revert\");\n        } else {\n            console.log(\"✅ Wallet IS treasury owner\");\n        }\n    } catch (e) {\n        console.log(\"ℹ️ Treasury has no owner() or uses role-based auth\");\n    }\n    // 4. Fetch payment token (AUSD)\n    console.log(\"\\uD83D\\uDCB0 Fetching payment token...\");\n    const ausdAddress = await router.paymentToken();\n    console.log(\"AUSD Address:\", ausdAddress);\n    const ausd = new ethers__WEBPACK_IMPORTED_MODULE_3__.Contract(ausdAddress, _contracts__WEBPACK_IMPORTED_MODULE_1__.ERC20_ABI, signer);\n    // ==========================================\n    // NEW STEP: User Funds Research Agent (1.00 AUSD)\n    // ==========================================\n    const fundingAmount = ethers__WEBPACK_IMPORTED_MODULE_4__.parseEther(\"1.0\");\n    console.log(\"Checking user allowance for funding...\");\n    const userAllowance = await ausd.allowance(address, _contracts__WEBPACK_IMPORTED_MODULE_1__.PROTOCOL_ROUTER_ADDRESS);\n    if (userAllowance < fundingAmount) {\n        console.log(\"\\uD83D\\uDCDD User approving Router...\");\n        onLog({\n            task: \"Approving AUSD Spend\",\n            agentName: \"User (You)\",\n            amount: \"0.00\",\n            status: \"pending\"\n        });\n        try {\n            const approveTx = await ausd.approve(_contracts__WEBPACK_IMPORTED_MODULE_1__.PROTOCOL_ROUTER_ADDRESS, ethers__WEBPACK_IMPORTED_MODULE_5__.MaxUint256);\n            console.log(\"User Approval Tx:\", approveTx.hash);\n            await approveTx.wait();\n            console.log(\"✅ User Approval Confirmed\");\n        } catch (err) {\n            console.error(\"User Approval Failed:\", err);\n            throw new Error(\"User Approval Failed: \".concat(getRevertReason(err)));\n        }\n    }\n    console.log(\"\\uD83D\\uDCB8 Funding Research Agent...\");\n    onLog({\n        task: \"Funding Research Agent\",\n        agentName: \"User (You)\",\n        amount: \"1.00\",\n        status: \"pending\"\n    });\n    try {\n        const fundTx = await router.processPayment(researchTreasuryAddr, fundingAmount, \"Initial Capital Infection\");\n        console.log(\"Funding Tx:\", fundTx.hash);\n        await fundTx.wait();\n        onLog({\n            task: \"Funding Complete\",\n            agentName: \"User (You)\",\n            amount: \"1.00\",\n            txHash: fundTx.hash,\n            status: \"success\"\n        });\n        console.log(\"✅ Funding Confirmed\");\n    } catch (err) {\n        console.error(\"Funding Failed:\", err);\n        onLog({\n            task: \"Funding Failed\",\n            agentName: \"User (You)\",\n            amount: \"1.00\",\n            status: \"error\"\n        });\n        throw new Error(\"Funding Failed: \".concat(getRevertReason(err)));\n    }\n    // ==========================================\n    // EXISTING FLOW: Research Agent Pays Downstream\n    // ==========================================\n    // 5. Allowance check (Research Treasury -> Router)\n    const currentAllowance = await ausd.allowance(researchTreasuryAddr, _contracts__WEBPACK_IMPORTED_MODULE_1__.PROTOCOL_ROUTER_ADDRESS);\n    const requiredAmount = ethers__WEBPACK_IMPORTED_MODULE_4__.parseEther(\"1.0\"); // Need enough for downstream payments\n    if (currentAllowance < requiredAmount) {\n        console.log(\"\\uD83D\\uDCDD Approving router to spend AUSD (Treasury)...\");\n        onLog({\n            task: \"Approving Payment Router\",\n            agentName: \"Research Treasury\",\n            amount: \"0.00\",\n            status: \"pending\"\n        });\n        const approveTx = await researchTreasury.approveToken(ausdAddress, _contracts__WEBPACK_IMPORTED_MODULE_1__.PROTOCOL_ROUTER_ADDRESS, ethers__WEBPACK_IMPORTED_MODULE_5__.MaxUint256);\n        console.log(\"Treasury Approval tx:\", approveTx.hash);\n        await approveTx.wait();\n        console.log(\"✅ Treasury Approval confirmed\");\n    } else {\n        console.log(\"✅ Treasury Allowance already sufficient\");\n    }\n    // 6. Payment plan\n    // 6. Payment plan with Decision Logic\n    const payments = [\n        {\n            recipient: dataAgentAddr,\n            amount: \"0.20\",\n            task: \"Data Collection\",\n            agentName: \"Data Agent\",\n            decision: {\n                reason: \"Needs verified supply chain data sources\",\n                cost: \"0.20\"\n            }\n        },\n        {\n            recipient: seoAgentAddr,\n            amount: \"0.10\",\n            task: \"SEO Optimization\",\n            agentName: \"SEO Agent\",\n            decision: {\n                reason: \"Optimizing report for search ranking distribution\",\n                cost: \"0.10\"\n            }\n        },\n        {\n            recipient: formattingAgentAddr,\n            amount: \"0.05\",\n            task: \"Formatting\",\n            agentName: \"Formatting Agent\",\n            decision: {\n                reason: \"Structuring output for final PDF generation\",\n                cost: \"0.05\"\n            }\n        }\n    ];\n    // 7. Execute payments (Loop)\n    for (const pay of payments){\n        console.log(\"➡️ Paying \".concat(pay.agentName));\n        onLog({\n            task: pay.task,\n            agentName: pay.agentName,\n            amount: pay.amount,\n            decision: pay.decision,\n            status: \"pending\"\n        });\n        try {\n            const calldata = router.interface.encodeFunctionData(\"processPayment\", [\n                pay.recipient,\n                ethers__WEBPACK_IMPORTED_MODULE_4__.parseEther(pay.amount),\n                \"Payment for \".concat(pay.task)\n            ]);\n            const tx = await researchTreasury.execute(_contracts__WEBPACK_IMPORTED_MODULE_1__.PROTOCOL_ROUTER_ADDRESS, 0, calldata);\n            console.log(\"Tx sent:\", tx.hash);\n            await tx.wait();\n            console.log(\"✅ \".concat(pay.task, \" complete\"));\n            onLog({\n                task: \"\".concat(pay.task, \" - Confirmed\"),\n                agentName: pay.agentName,\n                amount: pay.amount,\n                txHash: tx.hash,\n                status: \"success\"\n            });\n        } catch (err) {\n            console.error(\"❌ Payment failed:\", err);\n            onLog({\n                task: \"\".concat(pay.task, \" - FAILED\"),\n                agentName: pay.agentName,\n                amount: pay.amount,\n                status: \"error\"\n            });\n            throw new Error(getRevertReason(err));\n        }\n    }\n    console.log(\"\\uD83C\\uDF89 Research Task Workflow Completed\");\n    return \"SUCCESS\";\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvcnVuUmVzZWFyY2hUYXNrLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBZ0M7QUFDWTtBQUNpQztBQUNwQztBQUV6QyxNQUFNTSxxQkFBcUI7SUFDdkI7SUFDQTtJQUNBO0NBQ0g7QUFFRCxrQ0FBa0M7QUFDbEMsTUFBTUMsa0JBQWtCLENBQUNDO1FBQ2pCQSxpQkFBQUE7SUFBSixJQUFJQSxnQkFBQUEsMkJBQUFBLFlBQUFBLElBQUtDLElBQUksY0FBVEQsaUNBQUFBLGtCQUFBQSxVQUFXRSxLQUFLLGNBQWhCRixzQ0FBQUEsZ0JBQWtCRyxPQUFPLEVBQUUsT0FBT0gsSUFBSUMsSUFBSSxDQUFDQyxLQUFLLENBQUNDLE9BQU87SUFDNUQsSUFBSUgsZ0JBQUFBLDBCQUFBQSxJQUFLRyxPQUFPLEVBQUUsT0FBT0gsSUFBSUcsT0FBTztJQUNwQyxPQUFPO0FBQ1g7QUFFQTs7O0NBR0MsR0FDTSxlQUFlQyxnQkFDbEJDLEtBVVU7SUFFVkMsUUFBUUMsR0FBRyxDQUFDO0lBRVosb0JBQW9CO0lBQ3BCLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUUsR0FBRyxNQUFNWixzREFBYUE7SUFDL0NTLFFBQVFDLEdBQUcsQ0FBQyxrQ0FBd0JFO0lBRXBDLG1CQUFtQjtJQUNuQixNQUFNQyx1QkFBdUJqQixxREFBY0EsQ0FBQ2tCLGNBQWMsQ0FBQ0MsZ0JBQWdCO0lBQzNFLE1BQU1DLGdCQUFnQnBCLHFEQUFjQSxDQUFDcUIsVUFBVSxDQUFDRixnQkFBZ0I7SUFDaEUsTUFBTUcsZUFBZXRCLHFEQUFjQSxDQUFDdUIsU0FBUyxDQUFDSixnQkFBZ0I7SUFDOUQsTUFBTUssc0JBQXNCeEIscURBQWNBLENBQUN5QixnQkFBZ0IsQ0FBQ04sZ0JBQWdCO0lBRTVFLGtDQUFrQztJQUNsQyxJQUNJLENBQUNGLHdCQUNELENBQUNHLGlCQUNELENBQUNFLGdCQUNELENBQUNFLHFCQUNIO1FBQ0UsTUFBTSxJQUFJRSxNQUFN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QUNDLGtCQUFrQixDQUNoRCxrQkFDQTtnQkFDSUgsSUFBSUosU0FBUztnQkFDYjFELDhDQUFpQixDQUFDOEQsSUFBSWxCLE1BQU07Z0JBQzNCLGVBQXVCLE9BQVRrQixJQUFJcEIsSUFBSTthQUMxQjtZQUdMLE1BQU13QixLQUFLLE1BQU1wQyxpQkFBaUJxQyxPQUFPLENBQ3JDakUsK0RBQXVCQSxFQUN2QixHQUNBNkQ7WUFHSmpELFFBQVFDLEdBQUcsQ0FBQyxZQUFZbUQsR0FBR2pCLElBQUk7WUFDL0IsTUFBTWlCLEdBQUdoQixJQUFJO1lBRWJwQyxRQUFRQyxHQUFHLENBQUMsS0FBYyxPQUFUK0MsSUFBSXBCLElBQUksRUFBQztZQUUxQjdCLE1BQU07Z0JBQ0Y2QixNQUFNLEdBQVksT0FBVG9CLElBQUlwQixJQUFJLEVBQUM7Z0JBQ2xCQyxXQUFXbUIsSUFBSW5CLFNBQVM7Z0JBQ3hCQyxRQUFRa0IsSUFBSWxCLE1BQU07Z0JBQ2xCUyxRQUFRYSxHQUFHakIsSUFBSTtnQkFDZkosUUFBUTtZQUNaO1FBQ0osRUFBRSxPQUFPckMsS0FBVTtZQUNmTSxRQUFRSixLQUFLLENBQUMscUJBQXFCRjtZQUVuQ0ssTUFBTTtnQkFDRjZCLE1BQU0sR0FBWSxPQUFUb0IsSUFBSXBCLElBQUksRUFBQztnQkFDbEJDLFdBQVdtQixJQUFJbkIsU0FBUztnQkFDeEJDLFFBQVFrQixJQUFJbEIsTUFBTTtnQkFDbEJDLFFBQVE7WUFDWjtZQUVBLE1BQU0sSUFBSWxCLE1BQU1wQixnQkFBZ0JDO1FBQ3BDO0lBQ0o7SUFFQU0sUUFBUUMsR0FBRyxDQUFDO0lBQ1osT0FBTztBQUNYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvcnVuUmVzZWFyY2hUYXNrLnRzP2RjM2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSAnZXRoZXJzJztcbmltcG9ydCB7IEFHRU5UX1JFR0lTVFJZIH0gZnJvbSAnLi9yZWdpc3RyeSc7XG5pbXBvcnQgeyBQUk9UT0NPTF9ST1VURVJfQUREUkVTUywgUk9VVEVSX0FCSSwgRVJDMjBfQUJJIH0gZnJvbSAnLi9jb250cmFjdHMnO1xuaW1wb3J0IHsgY29ubmVjdFdhbGxldCB9IGZyb20gJy4vd2FsbGV0JztcblxuY29uc3QgQUdFTlRfVFJFQVNVUllfQUJJID0gW1xuICAgIFwiZnVuY3Rpb24gZXhlY3V0ZShhZGRyZXNzIHRhcmdldCwgdWludDI1NiB2YWx1ZSwgYnl0ZXMgY2FsbGRhdGEgZGF0YSkgZXh0ZXJuYWwgcmV0dXJucyAoYnl0ZXMpXCIsXG4gICAgXCJmdW5jdGlvbiBhcHByb3ZlVG9rZW4oYWRkcmVzcyB0b2tlbiwgYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IGFtb3VudCkgZXh0ZXJuYWxcIixcbiAgICBcImZ1bmN0aW9uIG93bmVyKCkgdmlldyByZXR1cm5zIChhZGRyZXNzKVwiXG5dO1xuXG4vLyBIZWxwZXIgdG8gZXh0cmFjdCByZXZlcnQgcmVhc29uXG5jb25zdCBnZXRSZXZlcnRSZWFzb24gPSAoZXJyOiBhbnkpID0+IHtcbiAgICBpZiAoZXJyPy5pbmZvPy5lcnJvcj8ubWVzc2FnZSkgcmV0dXJuIGVyci5pbmZvLmVycm9yLm1lc3NhZ2U7XG4gICAgaWYgKGVycj8ubWVzc2FnZSkgcmV0dXJuIGVyci5tZXNzYWdlO1xuICAgIHJldHVybiBcIlRyYW5zYWN0aW9uIEZhaWxlZCAoVW5rbm93biBSZWFzb24pXCI7XG59O1xuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBmdWxsIHJlc2VhcmNoIHdvcmtmbG93IGJ5IG9yY2hlc3RyYXRpbmcgdGhlIFJlc2VhcmNoIEFnZW50LlxuICogVXNlcyBwdXJlIGV0aGVycy5qcyB2NiB3aXRoIHdpbmRvdy5ldGhlcmV1bS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJ1blJlc2VhcmNoVGFzayhcbiAgICBvbkxvZzogKGxvZzoge1xuICAgICAgICB0YXNrOiBzdHJpbmc7XG4gICAgICAgIGFnZW50TmFtZTogc3RyaW5nO1xuICAgICAgICBhbW91bnQ6IHN0cmluZztcbiAgICAgICAgdHhIYXNoPzogc3RyaW5nO1xuICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiIHwgXCJzdWNjZXNzXCIgfCBcImVycm9yXCI7XG4gICAgICAgIGRlY2lzaW9uPzoge1xuICAgICAgICAgICAgcmVhc29uOiBzdHJpbmc7XG4gICAgICAgICAgICBjb3N0OiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgfSkgPT4gdm9pZFxuKSB7XG4gICAgY29uc29sZS5sb2coXCLwn5qAIFN0YXJ0aW5nIFJlc2VhcmNoIFRhc2sgV29ya2Zsb3cgKEV0aGVycyB2NilcIik7XG5cbiAgICAvLyAxLiBDb25uZWN0IFdhbGxldFxuICAgIGNvbnN0IHsgc2lnbmVyLCBhZGRyZXNzIH0gPSBhd2FpdCBjb25uZWN0V2FsbGV0KCk7XG4gICAgY29uc29sZS5sb2coXCLwn5GkIENvbm5lY3RlZCB3YWxsZXQ6XCIsIGFkZHJlc3MpO1xuXG4gICAgLy8gMi4gTG9hZCByZWdpc3RyeVxuICAgIGNvbnN0IHJlc2VhcmNoVHJlYXN1cnlBZGRyID0gQUdFTlRfUkVHSVNUUlkucmVzZWFyY2hfYWdlbnQudHJlYXN1cnlfYWRkcmVzcztcbiAgICBjb25zdCBkYXRhQWdlbnRBZGRyID0gQUdFTlRfUkVHSVNUUlkuZGF0YV9hZ2VudC50cmVhc3VyeV9hZGRyZXNzO1xuICAgIGNvbnN0IHNlb0FnZW50QWRkciA9IEFHRU5UX1JFR0lTVFJZLnNlb19hZ2VudC50cmVhc3VyeV9hZGRyZXNzO1xuICAgIGNvbnN0IGZvcm1hdHRpbmdBZ2VudEFkZHIgPSBBR0VOVF9SRUdJU1RSWS5mb3JtYXR0aW5nX2FnZW50LnRyZWFzdXJ5X2FkZHJlc3M7XG5cbiAgICAvLyDinIUgRklYIDEg4oCUIFJlZ2lzdHJ5IHNhbml0eSBjaGVja1xuICAgIGlmIChcbiAgICAgICAgIXJlc2VhcmNoVHJlYXN1cnlBZGRyIHx8XG4gICAgICAgICFkYXRhQWdlbnRBZGRyIHx8XG4gICAgICAgICFzZW9BZ2VudEFkZHIgfHxcbiAgICAgICAgIWZvcm1hdHRpbmdBZ2VudEFkZHJcbiAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwi4p2MIEFnZW50IHJlZ2lzdHJ5IGlzIG1pc3NpbmcgdHJlYXN1cnkgYWRkcmVzc2VzXCIpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwi8J+TkiBSZWdpc3RyeSBPS1wiKTtcblxuICAgIC8vIDMuIEluc3RhbnRpYXRlIGNvbnRyYWN0c1xuICAgIGNvbnN0IHJvdXRlciA9IG5ldyBldGhlcnMuQ29udHJhY3QoXG4gICAgICAgIFBST1RPQ09MX1JPVVRFUl9BRERSRVNTLFxuICAgICAgICBST1VURVJfQUJJLFxuICAgICAgICBzaWduZXJcbiAgICApO1xuXG4gICAgY29uc3QgcmVzZWFyY2hUcmVhc3VyeSA9IG5ldyBldGhlcnMuQ29udHJhY3QoXG4gICAgICAgIHJlc2VhcmNoVHJlYXN1cnlBZGRyLFxuICAgICAgICBBR0VOVF9UUkVBU1VSWV9BQkksXG4gICAgICAgIHNpZ25lclxuICAgICk7XG5cbiAgICAvLyDinIUgRklYIDIg4oCUIEV4ZWN1dGlvbiBhdXRob3JpdHkgY2hlY2tcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0cmVhc3VyeU93bmVyID0gYXdhaXQgcmVzZWFyY2hUcmVhc3VyeS5vd25lcigpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCfj6YgUmVzZWFyY2ggVHJlYXN1cnkgT3duZXI6XCIsIHRyZWFzdXJ5T3duZXIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIuKcje+4jyBDb25uZWN0ZWQgV2FsbGV0OlwiLCBhZGRyZXNzKTtcblxuICAgICAgICBpZiAodHJlYXN1cnlPd25lci50b0xvd2VyQ2FzZSgpICE9PSBhZGRyZXNzLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIuKaoO+4jyBXYWxsZXQgaXMgTk9UIHRyZWFzdXJ5IG93bmVyIOKAlCBleGVjdXRlKCkgbWF5IHJldmVydFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFdhbGxldCBJUyB0cmVhc3VyeSBvd25lclwiKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2gge1xuICAgICAgICBjb25zb2xlLmxvZyhcIuKEue+4jyBUcmVhc3VyeSBoYXMgbm8gb3duZXIoKSBvciB1c2VzIHJvbGUtYmFzZWQgYXV0aFwiKTtcbiAgICB9XG5cbiAgICAvLyA0LiBGZXRjaCBwYXltZW50IHRva2VuIChBVVNEKVxuICAgIGNvbnNvbGUubG9nKFwi8J+SsCBGZXRjaGluZyBwYXltZW50IHRva2VuLi4uXCIpO1xuICAgIGNvbnN0IGF1c2RBZGRyZXNzID0gYXdhaXQgcm91dGVyLnBheW1lbnRUb2tlbigpO1xuICAgIGNvbnNvbGUubG9nKFwiQVVTRCBBZGRyZXNzOlwiLCBhdXNkQWRkcmVzcyk7XG5cbiAgICBjb25zdCBhdXNkID0gbmV3IGV0aGVycy5Db250cmFjdChhdXNkQWRkcmVzcywgRVJDMjBfQUJJLCBzaWduZXIpO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gTkVXIFNURVA6IFVzZXIgRnVuZHMgUmVzZWFyY2ggQWdlbnQgKDEuMDAgQVVTRClcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBjb25zdCBmdW5kaW5nQW1vdW50ID0gZXRoZXJzLnBhcnNlRXRoZXIoXCIxLjBcIik7XG5cbiAgICBjb25zb2xlLmxvZyhcIkNoZWNraW5nIHVzZXIgYWxsb3dhbmNlIGZvciBmdW5kaW5nLi4uXCIpO1xuICAgIGNvbnN0IHVzZXJBbGxvd2FuY2UgPSBhd2FpdCBhdXNkLmFsbG93YW5jZShhZGRyZXNzLCBQUk9UT0NPTF9ST1VURVJfQUREUkVTUyk7XG5cbiAgICBpZiAodXNlckFsbG93YW5jZSA8IGZ1bmRpbmdBbW91bnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5OdIFVzZXIgYXBwcm92aW5nIFJvdXRlci4uLlwiKTtcbiAgICAgICAgb25Mb2coe1xuICAgICAgICAgICAgdGFzazogXCJBcHByb3ZpbmcgQVVTRCBTcGVuZFwiLFxuICAgICAgICAgICAgYWdlbnROYW1lOiBcIlVzZXIgKFlvdSlcIixcbiAgICAgICAgICAgIGFtb3VudDogXCIwLjAwXCIsXG4gICAgICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhcHByb3ZlVHggPSBhd2FpdCBhdXNkLmFwcHJvdmUoUFJPVE9DT0xfUk9VVEVSX0FERFJFU1MsIGV0aGVycy5NYXhVaW50MjU2KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBBcHByb3ZhbCBUeDpcIiwgYXBwcm92ZVR4Lmhhc2gpO1xuICAgICAgICAgICAgYXdhaXQgYXBwcm92ZVR4LndhaXQoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFVzZXIgQXBwcm92YWwgQ29uZmlybWVkXCIpO1xuICAgICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVzZXIgQXBwcm92YWwgRmFpbGVkOlwiLCBlcnIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVc2VyIEFwcHJvdmFsIEZhaWxlZDogJHtnZXRSZXZlcnRSZWFzb24oZXJyKX1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwi8J+SuCBGdW5kaW5nIFJlc2VhcmNoIEFnZW50Li4uXCIpO1xuICAgIG9uTG9nKHtcbiAgICAgICAgdGFzazogXCJGdW5kaW5nIFJlc2VhcmNoIEFnZW50XCIsXG4gICAgICAgIGFnZW50TmFtZTogXCJVc2VyIChZb3UpXCIsXG4gICAgICAgIGFtb3VudDogXCIxLjAwXCIsXG4gICAgICAgIHN0YXR1czogXCJwZW5kaW5nXCJcbiAgICB9KTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGZ1bmRUeCA9IGF3YWl0IHJvdXRlci5wcm9jZXNzUGF5bWVudChcbiAgICAgICAgICAgIHJlc2VhcmNoVHJlYXN1cnlBZGRyLFxuICAgICAgICAgICAgZnVuZGluZ0Ftb3VudCxcbiAgICAgICAgICAgIFwiSW5pdGlhbCBDYXBpdGFsIEluZmVjdGlvblwiXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRnVuZGluZyBUeDpcIiwgZnVuZFR4Lmhhc2gpO1xuICAgICAgICBhd2FpdCBmdW5kVHgud2FpdCgpO1xuXG4gICAgICAgIG9uTG9nKHtcbiAgICAgICAgICAgIHRhc2s6IFwiRnVuZGluZyBDb21wbGV0ZVwiLFxuICAgICAgICAgICAgYWdlbnROYW1lOiBcIlVzZXIgKFlvdSlcIixcbiAgICAgICAgICAgIGFtb3VudDogXCIxLjAwXCIsXG4gICAgICAgICAgICB0eEhhc2g6IGZ1bmRUeC5oYXNoLFxuICAgICAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coXCLinIUgRnVuZGluZyBDb25maXJtZWRcIik7XG5cbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRnVuZGluZyBGYWlsZWQ6XCIsIGVycik7XG4gICAgICAgIG9uTG9nKHtcbiAgICAgICAgICAgIHRhc2s6IFwiRnVuZGluZyBGYWlsZWRcIixcbiAgICAgICAgICAgIGFnZW50TmFtZTogXCJVc2VyIChZb3UpXCIsXG4gICAgICAgICAgICBhbW91bnQ6IFwiMS4wMFwiLFxuICAgICAgICAgICAgc3RhdHVzOiBcImVycm9yXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRnVuZGluZyBGYWlsZWQ6ICR7Z2V0UmV2ZXJ0UmVhc29uKGVycil9YCk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gRVhJU1RJTkcgRkxPVzogUmVzZWFyY2ggQWdlbnQgUGF5cyBEb3duc3RyZWFtXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyA1LiBBbGxvd2FuY2UgY2hlY2sgKFJlc2VhcmNoIFRyZWFzdXJ5IC0+IFJvdXRlcilcbiAgICBjb25zdCBjdXJyZW50QWxsb3dhbmNlID0gYXdhaXQgYXVzZC5hbGxvd2FuY2UoXG4gICAgICAgIHJlc2VhcmNoVHJlYXN1cnlBZGRyLFxuICAgICAgICBQUk9UT0NPTF9ST1VURVJfQUREUkVTU1xuICAgICk7XG5cbiAgICBjb25zdCByZXF1aXJlZEFtb3VudCA9IGV0aGVycy5wYXJzZUV0aGVyKFwiMS4wXCIpOyAvLyBOZWVkIGVub3VnaCBmb3IgZG93bnN0cmVhbSBwYXltZW50c1xuXG4gICAgaWYgKGN1cnJlbnRBbGxvd2FuY2UgPCByZXF1aXJlZEFtb3VudCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCfk50gQXBwcm92aW5nIHJvdXRlciB0byBzcGVuZCBBVVNEIChUcmVhc3VyeSkuLi5cIik7XG5cbiAgICAgICAgb25Mb2coe1xuICAgICAgICAgICAgdGFzazogXCJBcHByb3ZpbmcgUGF5bWVudCBSb3V0ZXJcIixcbiAgICAgICAgICAgIGFnZW50TmFtZTogXCJSZXNlYXJjaCBUcmVhc3VyeVwiLFxuICAgICAgICAgICAgYW1vdW50OiBcIjAuMDBcIixcbiAgICAgICAgICAgIHN0YXR1czogXCJwZW5kaW5nXCJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgYXBwcm92ZVR4ID0gYXdhaXQgcmVzZWFyY2hUcmVhc3VyeS5hcHByb3ZlVG9rZW4oXG4gICAgICAgICAgICBhdXNkQWRkcmVzcyxcbiAgICAgICAgICAgIFBST1RPQ09MX1JPVVRFUl9BRERSRVNTLFxuICAgICAgICAgICAgZXRoZXJzLk1heFVpbnQyNTZcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIlRyZWFzdXJ5IEFwcHJvdmFsIHR4OlwiLCBhcHByb3ZlVHguaGFzaCk7XG4gICAgICAgIGF3YWl0IGFwcHJvdmVUeC53YWl0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFRyZWFzdXJ5IEFwcHJvdmFsIGNvbmZpcm1lZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBUcmVhc3VyeSBBbGxvd2FuY2UgYWxyZWFkeSBzdWZmaWNpZW50XCIpO1xuICAgIH1cblxuICAgIC8vIDYuIFBheW1lbnQgcGxhblxuICAgIC8vIDYuIFBheW1lbnQgcGxhbiB3aXRoIERlY2lzaW9uIExvZ2ljXG4gICAgY29uc3QgcGF5bWVudHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlY2lwaWVudDogZGF0YUFnZW50QWRkcixcbiAgICAgICAgICAgIGFtb3VudDogXCIwLjIwXCIsXG4gICAgICAgICAgICB0YXNrOiBcIkRhdGEgQ29sbGVjdGlvblwiLFxuICAgICAgICAgICAgYWdlbnROYW1lOiBcIkRhdGEgQWdlbnRcIixcbiAgICAgICAgICAgIGRlY2lzaW9uOiB7XG4gICAgICAgICAgICAgICAgcmVhc29uOiBcIk5lZWRzIHZlcmlmaWVkIHN1cHBseSBjaGFpbiBkYXRhIHNvdXJjZXNcIixcbiAgICAgICAgICAgICAgICBjb3N0OiBcIjAuMjBcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICByZWNpcGllbnQ6IHNlb0FnZW50QWRkcixcbiAgICAgICAgICAgIGFtb3VudDogXCIwLjEwXCIsXG4gICAgICAgICAgICB0YXNrOiBcIlNFTyBPcHRpbWl6YXRpb25cIixcbiAgICAgICAgICAgIGFnZW50TmFtZTogXCJTRU8gQWdlbnRcIixcbiAgICAgICAgICAgIGRlY2lzaW9uOiB7XG4gICAgICAgICAgICAgICAgcmVhc29uOiBcIk9wdGltaXppbmcgcmVwb3J0IGZvciBzZWFyY2ggcmFua2luZyBkaXN0cmlidXRpb25cIixcbiAgICAgICAgICAgICAgICBjb3N0OiBcIjAuMTBcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICByZWNpcGllbnQ6IGZvcm1hdHRpbmdBZ2VudEFkZHIsXG4gICAgICAgICAgICBhbW91bnQ6IFwiMC4wNVwiLFxuICAgICAgICAgICAgdGFzazogXCJGb3JtYXR0aW5nXCIsXG4gICAgICAgICAgICBhZ2VudE5hbWU6IFwiRm9ybWF0dGluZyBBZ2VudFwiLFxuICAgICAgICAgICAgZGVjaXNpb246IHtcbiAgICAgICAgICAgICAgICByZWFzb246IFwiU3RydWN0dXJpbmcgb3V0cHV0IGZvciBmaW5hbCBQREYgZ2VuZXJhdGlvblwiLFxuICAgICAgICAgICAgICAgIGNvc3Q6IFwiMC4wNVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBdO1xuXG4gICAgLy8gNy4gRXhlY3V0ZSBwYXltZW50cyAoTG9vcClcbiAgICBmb3IgKGNvbnN0IHBheSBvZiBwYXltZW50cykge1xuICAgICAgICBjb25zb2xlLmxvZyhg4p6h77iPIFBheWluZyAke3BheS5hZ2VudE5hbWV9YCk7XG5cbiAgICAgICAgb25Mb2coe1xuICAgICAgICAgICAgdGFzazogcGF5LnRhc2ssXG4gICAgICAgICAgICBhZ2VudE5hbWU6IHBheS5hZ2VudE5hbWUsXG4gICAgICAgICAgICBhbW91bnQ6IHBheS5hbW91bnQsXG4gICAgICAgICAgICBkZWNpc2lvbjogcGF5LmRlY2lzaW9uLFxuICAgICAgICAgICAgc3RhdHVzOiBcInBlbmRpbmdcIlxuICAgICAgICB9KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FsbGRhdGEgPSByb3V0ZXIuaW50ZXJmYWNlLmVuY29kZUZ1bmN0aW9uRGF0YShcbiAgICAgICAgICAgICAgICBcInByb2Nlc3NQYXltZW50XCIsXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBwYXkucmVjaXBpZW50LFxuICAgICAgICAgICAgICAgICAgICBldGhlcnMucGFyc2VFdGhlcihwYXkuYW1vdW50KSxcbiAgICAgICAgICAgICAgICAgICAgYFBheW1lbnQgZm9yICR7cGF5LnRhc2t9YFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHR4ID0gYXdhaXQgcmVzZWFyY2hUcmVhc3VyeS5leGVjdXRlKFxuICAgICAgICAgICAgICAgIFBST1RPQ09MX1JPVVRFUl9BRERSRVNTLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgY2FsbGRhdGFcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHggc2VudDpcIiwgdHguaGFzaCk7XG4gICAgICAgICAgICBhd2FpdCB0eC53YWl0KCk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgJHtwYXkudGFza30gY29tcGxldGVgKTtcblxuICAgICAgICAgICAgb25Mb2coe1xuICAgICAgICAgICAgICAgIHRhc2s6IGAke3BheS50YXNrfSAtIENvbmZpcm1lZGAsXG4gICAgICAgICAgICAgICAgYWdlbnROYW1lOiBwYXkuYWdlbnROYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudDogcGF5LmFtb3VudCxcbiAgICAgICAgICAgICAgICB0eEhhc2g6IHR4Lmhhc2gsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIFBheW1lbnQgZmFpbGVkOlwiLCBlcnIpO1xuXG4gICAgICAgICAgICBvbkxvZyh7XG4gICAgICAgICAgICAgICAgdGFzazogYCR7cGF5LnRhc2t9IC0gRkFJTEVEYCxcbiAgICAgICAgICAgICAgICBhZ2VudE5hbWU6IHBheS5hZ2VudE5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBwYXkuYW1vdW50LFxuICAgICAgICAgICAgICAgIHN0YXR1czogXCJlcnJvclwiXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdldFJldmVydFJlYXNvbihlcnIpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwi8J+OiSBSZXNlYXJjaCBUYXNrIFdvcmtmbG93IENvbXBsZXRlZFwiKTtcbiAgICByZXR1cm4gXCJTVUNDRVNTXCI7XG59XG4iXSwibmFtZXMiOlsiZXRoZXJzIiwiQUdFTlRfUkVHSVNUUlkiLCJQUk9UT0NPTF9ST1VURVJfQUREUkVTUyIsIlJPVVRFUl9BQkkiLCJFUkMyMF9BQkkiLCJjb25uZWN0V2FsbGV0IiwiQUdFTlRfVFJFQVNVUllfQUJJIiwiZ2V0UmV2ZXJ0UmVhc29uIiwiZXJyIiwiaW5mbyIsImVycm9yIiwibWVzc2FnZSIsInJ1blJlc2VhcmNoVGFzayIsIm9uTG9nIiwiY29uc29sZSIsImxvZyIsInNpZ25lciIsImFkZHJlc3MiLCJyZXNlYXJjaFRyZWFzdXJ5QWRkciIsInJlc2VhcmNoX2FnZW50IiwidHJlYXN1cnlfYWRkcmVzcyIsImRhdGFBZ2VudEFkZHIiLCJkYXRhX2FnZW50Iiwic2VvQWdlbnRBZGRyIiwic2VvX2FnZW50IiwiZm9ybWF0dGluZ0FnZW50QWRkciIsImZvcm1hdHRpbmdfYWdlbnQiLCJFcnJvciIsInJvdXRlciIsIkNvbnRyYWN0IiwicmVzZWFyY2hUcmVhc3VyeSIsInRyZWFzdXJ5T3duZXIiLCJvd25lciIsInRvTG93ZXJDYXNlIiwid2FybiIsImF1c2RBZGRyZXNzIiwicGF5bWVudFRva2VuIiwiYXVzZCIsImZ1bmRpbmdBbW91bnQiLCJwYXJzZUV0aGVyIiwidXNlckFsbG93YW5jZSIsImFsbG93YW5jZSIsInRhc2siLCJhZ2VudE5hbWUiLCJhbW91bnQiLCJzdGF0dXMiLCJhcHByb3ZlVHgiLCJhcHByb3ZlIiwiTWF4VWludDI1NiIsImhhc2giLCJ3YWl0IiwiZnVuZFR4IiwicHJvY2Vzc1BheW1lbnQiLCJ0eEhhc2giLCJjdXJyZW50QWxsb3dhbmNlIiwicmVxdWlyZWRBbW91bnQiLCJhcHByb3ZlVG9rZW4iLCJwYXltZW50cyIsInJlY2lwaWVudCIsImRlY2lzaW9uIiwicmVhc29uIiwiY29zdCIsInBheSIsImNhbGxkYXRhIiwiaW50ZXJmYWNlIiwiZW5jb2RlRnVuY3Rpb25EYXRhIiwidHgiLCJleGVjdXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/runResearchTask.ts\n"));

/***/ })

});