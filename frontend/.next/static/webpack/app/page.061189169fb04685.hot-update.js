"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/lib/runResearchTask.ts":
/*!************************************!*\
  !*** ./src/lib/runResearchTask.ts ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   runResearchTask: function() { return /* binding */ runResearchTask; }\n/* harmony export */ });\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/ethers/lib.esm/contract/contract.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/ethers/lib.esm/utils/units.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/ethers/lib.esm/constants/numbers.js\");\n/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./registry */ \"(app-pages-browser)/./src/lib/registry.ts\");\n/* harmony import */ var _contracts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./contracts */ \"(app-pages-browser)/./src/lib/contracts.ts\");\n/* harmony import */ var _wallet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wallet */ \"(app-pages-browser)/./src/lib/wallet.ts\");\n\n\n\n\nconst AGENT_TREASURY_ABI = [\n    \"function execute(address target, uint256 value, bytes calldata data) external returns (bytes)\",\n    \"function approveToken(address token, address spender, uint256 amount) external\",\n    \"function owner() view returns (address)\"\n];\n// Helper to extract revert reason\nconst getRevertReason = (err)=>{\n    var _err_info_error, _err_info;\n    if (err === null || err === void 0 ? void 0 : (_err_info = err.info) === null || _err_info === void 0 ? void 0 : (_err_info_error = _err_info.error) === null || _err_info_error === void 0 ? void 0 : _err_info_error.message) return err.info.error.message;\n    if (err === null || err === void 0 ? void 0 : err.message) return err.message;\n    return \"Transaction Failed (Unknown Reason)\";\n};\n/**\n * Executes the full research workflow by orchestrating the Research Agent.\n * Uses pure ethers.js v6 with window.ethereum.\n */ async function runResearchTask(onLog) {\n    console.log(\"\\uD83D\\uDE80 Starting Research Task Workflow (Ethers v6)\");\n    // 1. Connect Wallet\n    const { signer, address } = await (0,_wallet__WEBPACK_IMPORTED_MODULE_2__.connectWallet)();\n    console.log(\"\\uD83D\\uDC64 Connected wallet:\", address);\n    // 2. Load registry\n    const researchTreasuryAddr = _registry__WEBPACK_IMPORTED_MODULE_0__.AGENT_REGISTRY.research_agent.treasury_address;\n    const dataAgentAddr = _registry__WEBPACK_IMPORTED_MODULE_0__.AGENT_REGISTRY.data_agent.treasury_address;\n    const seoAgentAddr = _registry__WEBPACK_IMPORTED_MODULE_0__.AGENT_REGISTRY.seo_agent.treasury_address;\n    const formattingAgentAddr = _registry__WEBPACK_IMPORTED_MODULE_0__.AGENT_REGISTRY.formatting_agent.treasury_address;\n    // ✅ FIX 1 — Registry sanity check\n    if (!researchTreasuryAddr || !dataAgentAddr || !seoAgentAddr || !formattingAgentAddr) {\n        throw new Error(\"❌ Agent registry is missing treasury addresses\");\n    }\n    console.log(\"\\uD83D\\uDCD2 Registry OK\");\n    // 3. Instantiate contracts\n    const router = new ethers__WEBPACK_IMPORTED_MODULE_3__.Contract(_contracts__WEBPACK_IMPORTED_MODULE_1__.PROTOCOL_ROUTER_ADDRESS, _contracts__WEBPACK_IMPORTED_MODULE_1__.ROUTER_ABI, signer);\n    const researchTreasury = new ethers__WEBPACK_IMPORTED_MODULE_3__.Contract(researchTreasuryAddr, AGENT_TREASURY_ABI, signer);\n    // ✅ FIX 2 — Execution authority check\n    try {\n        const treasuryOwner = await researchTreasury.owner();\n        console.log(\"\\uD83C\\uDFE6 Research Treasury Owner:\", treasuryOwner);\n        console.log(\"✍️ Connected Wallet:\", address);\n        if (treasuryOwner.toLowerCase() !== address.toLowerCase()) {\n            console.warn(\"⚠️ Wallet is NOT treasury owner — execute() may revert\");\n        } else {\n            console.log(\"✅ Wallet IS treasury owner\");\n        }\n    } catch (e) {\n        console.log(\"ℹ️ Treasury has no owner() or uses role-based auth\");\n    }\n    // 4. Fetch payment token (AUSD)\n    console.log(\"\\uD83D\\uDCB0 Fetching payment token...\");\n    const ausdAddress = await router.paymentToken();\n    console.log(\"AUSD Address:\", ausdAddress);\n    const ausd = new ethers__WEBPACK_IMPORTED_MODULE_3__.Contract(ausdAddress, _contracts__WEBPACK_IMPORTED_MODULE_1__.ERC20_ABI, signer);\n    // 5. Allowance check\n    const currentAllowance = await ausd.allowance(researchTreasuryAddr, _contracts__WEBPACK_IMPORTED_MODULE_1__.PROTOCOL_ROUTER_ADDRESS);\n    const requiredAmount = ethers__WEBPACK_IMPORTED_MODULE_4__.parseEther(\"1.0\");\n    if (currentAllowance < requiredAmount) {\n        console.log(\"\\uD83D\\uDCDD Approving router to spend AUSD\");\n        onLog({\n            task: \"Approving Payment Router\",\n            agentName: \"Research Treasury\",\n            amount: \"0.00\",\n            status: \"pending\"\n        });\n        const approveTx = await researchTreasury.approveToken(ausdAddress, _contracts__WEBPACK_IMPORTED_MODULE_1__.PROTOCOL_ROUTER_ADDRESS, ethers__WEBPACK_IMPORTED_MODULE_5__.MaxUint256);\n        console.log(\"Approval tx:\", approveTx.hash);\n        await approveTx.wait();\n        console.log(\"✅ Approval confirmed\");\n    } else {\n        console.log(\"✅ Allowance already sufficient\");\n    }\n    // 6. Payment plan\n    const payments = [\n        {\n            recipient: dataAgentAddr,\n            amount: \"0.20\",\n            task: \"Data Collection\",\n            agentName: \"Data Agent\"\n        },\n        {\n            recipient: seoAgentAddr,\n            amount: \"0.10\",\n            task: \"SEO Optimization\",\n            agentName: \"SEO Agent\"\n        },\n        {\n            recipient: formattingAgentAddr,\n            amount: \"0.05\",\n            task: \"Formatting\",\n            agentName: \"Formatting Agent\"\n        }\n    ];\n    // 7. Execute payments\n    for (const pay of payments){\n        console.log(\"➡️ Paying \".concat(pay.agentName));\n        onLog({\n            task: pay.task,\n            agentName: pay.agentName,\n            amount: pay.amount,\n            status: \"pending\"\n        });\n        try {\n            const calldata = router.interface.encodeFunctionData(\"processPayment\", [\n                pay.recipient,\n                ethers__WEBPACK_IMPORTED_MODULE_4__.parseEther(pay.amount),\n                \"Payment for \".concat(pay.task)\n            ]);\n            const tx = await researchTreasury.execute(_contracts__WEBPACK_IMPORTED_MODULE_1__.PROTOCOL_ROUTER_ADDRESS, 0, calldata);\n            console.log(\"Tx sent:\", tx.hash);\n            await tx.wait();\n            console.log(\"✅ \".concat(pay.task, \" complete\"));\n            onLog({\n                task: \"\".concat(pay.task, \" - Confirmed\"),\n                agentName: pay.agentName,\n                amount: pay.amount,\n                txHash: tx.hash,\n                status: \"success\"\n            });\n        } catch (err) {\n            console.error(\"❌ Payment failed:\", err);\n            onLog({\n                task: \"\".concat(pay.task, \" - FAILED\"),\n                agentName: pay.agentName,\n                amount: pay.amount,\n                status: \"error\"\n            });\n            throw new Error(getRevertReason(err));\n        }\n    }\n    console.log(\"\\uD83C\\uDF89 Research Task Workflow Completed\");\n    return \"SUCCESS\";\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvcnVuUmVzZWFyY2hUYXNrLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBZ0M7QUFDWTtBQUNpQztBQUNwQztBQUV6QyxNQUFNTSxxQkFBcUI7SUFDdkI7SUFDQTtJQUNBO0NBQ0g7QUFFRCxrQ0FBa0M7QUFDbEMsTUFBTUMsa0JBQWtCLENBQUNDO1FBQ2pCQSxpQkFBQUE7SUFBSixJQUFJQSxnQkFBQUEsMkJBQUFBLFlBQUFBLElBQUtDLElBQUksY0FBVEQsaUNBQUFBLGtCQUFBQSxVQUFXRSxLQUFLLGNBQWhCRixzQ0FBQUEsZ0JBQWtCRyxPQUFPLEVBQUUsT0FBT0gsSUFBSUMsSUFBSSxDQUFDQyxLQUFLLENBQUNDLE9BQU87SUFDNUQsSUFBSUgsZ0JBQUFBLDBCQUFBQSxJQUFLRyxPQUFPLEVBQUUsT0FBT0gsSUFBSUcsT0FBTztJQUNwQyxPQUFPO0FBQ1g7QUFFQTs7O0NBR0MsR0FDTSxlQUFlQyxnQkFDbEJDLEtBTVU7SUFFVkMsUUFBUUMsR0FBRyxDQUFDO0lBRVosb0JBQW9CO0lBQ3BCLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUUsR0FBRyxNQUFNWixzREFBYUE7SUFDL0NTLFFBQVFDLEdBQUcsQ0FBQyxrQ0FBd0JFO0lBRXBDLG1CQUFtQjtJQUNuQixNQUFNQyx1QkFBdUJqQixxREFBY0EsQ0FBQ2tCLGNBQWMsQ0FBQ0MsZ0JBQWdCO0lBQzNFLE1BQU1DLGdCQUFnQnBCLHFEQUFjQSxDQUFDcUIsVUFBVSxDQUFDRixnQkFBZ0I7SUFDaEUsTUFBTUcsZUFBZXRCLHFEQUFjQSxDQUFDdUIsU0FBUyxDQUFDSixnQkFBZ0I7SUFDOUQsTUFBTUssc0JBQXNCeEIscURBQWNBLENBQUN5QixnQkFBZ0IsQ0FBQ04sZ0JBQWdCO0lBRTVFLGtDQUFrQztJQUNsQyxJQUNJLENBQUNGLHdCQUNELENBQUNHLGlCQUNELENBQUNFLGdCQUNELENBQUNFLHFCQUNIO1FBQ0UsTUFBTSxJQUFJRSxNQUFN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QUFJLEVBQUM7Z0JBQ2xCQyxXQUFXVSxJQUFJVixTQUFTO2dCQUN4QkMsUUFBUVMsSUFBSVQsTUFBTTtnQkFDbEJlLFFBQVFGLEdBQUdSLElBQUk7Z0JBQ2ZKLFFBQVE7WUFDWjtRQUNKLEVBQUUsT0FBT3JDLEtBQVU7WUFDZk0sUUFBUUosS0FBSyxDQUFDLHFCQUFxQkY7WUFFbkNLLE1BQU07Z0JBQ0Y2QixNQUFNLEdBQVksT0FBVFcsSUFBSVgsSUFBSSxFQUFDO2dCQUNsQkMsV0FBV1UsSUFBSVYsU0FBUztnQkFDeEJDLFFBQVFTLElBQUlULE1BQU07Z0JBQ2xCQyxRQUFRO1lBQ1o7WUFFQSxNQUFNLElBQUlsQixNQUFNcEIsZ0JBQWdCQztRQUNwQztJQUNKO0lBRUFNLFFBQVFDLEdBQUcsQ0FBQztJQUNaLE9BQU87QUFDWCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL3J1blJlc2VhcmNoVGFzay50cz9kYzNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV0aGVycyB9IGZyb20gJ2V0aGVycyc7XG5pbXBvcnQgeyBBR0VOVF9SRUdJU1RSWSB9IGZyb20gJy4vcmVnaXN0cnknO1xuaW1wb3J0IHsgUFJPVE9DT0xfUk9VVEVSX0FERFJFU1MsIFJPVVRFUl9BQkksIEVSQzIwX0FCSSB9IGZyb20gJy4vY29udHJhY3RzJztcbmltcG9ydCB7IGNvbm5lY3RXYWxsZXQgfSBmcm9tICcuL3dhbGxldCc7XG5cbmNvbnN0IEFHRU5UX1RSRUFTVVJZX0FCSSA9IFtcbiAgICBcImZ1bmN0aW9uIGV4ZWN1dGUoYWRkcmVzcyB0YXJnZXQsIHVpbnQyNTYgdmFsdWUsIGJ5dGVzIGNhbGxkYXRhIGRhdGEpIGV4dGVybmFsIHJldHVybnMgKGJ5dGVzKVwiLFxuICAgIFwiZnVuY3Rpb24gYXBwcm92ZVRva2VuKGFkZHJlc3MgdG9rZW4sIGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiBhbW91bnQpIGV4dGVybmFsXCIsXG4gICAgXCJmdW5jdGlvbiBvd25lcigpIHZpZXcgcmV0dXJucyAoYWRkcmVzcylcIlxuXTtcblxuLy8gSGVscGVyIHRvIGV4dHJhY3QgcmV2ZXJ0IHJlYXNvblxuY29uc3QgZ2V0UmV2ZXJ0UmVhc29uID0gKGVycjogYW55KSA9PiB7XG4gICAgaWYgKGVycj8uaW5mbz8uZXJyb3I/Lm1lc3NhZ2UpIHJldHVybiBlcnIuaW5mby5lcnJvci5tZXNzYWdlO1xuICAgIGlmIChlcnI/Lm1lc3NhZ2UpIHJldHVybiBlcnIubWVzc2FnZTtcbiAgICByZXR1cm4gXCJUcmFuc2FjdGlvbiBGYWlsZWQgKFVua25vd24gUmVhc29uKVwiO1xufTtcblxuLyoqXG4gKiBFeGVjdXRlcyB0aGUgZnVsbCByZXNlYXJjaCB3b3JrZmxvdyBieSBvcmNoZXN0cmF0aW5nIHRoZSBSZXNlYXJjaCBBZ2VudC5cbiAqIFVzZXMgcHVyZSBldGhlcnMuanMgdjYgd2l0aCB3aW5kb3cuZXRoZXJldW0uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5SZXNlYXJjaFRhc2soXG4gICAgb25Mb2c6IChsb2c6IHtcbiAgICAgICAgdGFzazogc3RyaW5nO1xuICAgICAgICBhZ2VudE5hbWU6IHN0cmluZztcbiAgICAgICAgYW1vdW50OiBzdHJpbmc7XG4gICAgICAgIHR4SGFzaD86IHN0cmluZztcbiAgICAgICAgc3RhdHVzOiBcInBlbmRpbmdcIiB8IFwic3VjY2Vzc1wiIHwgXCJlcnJvclwiO1xuICAgIH0pID0+IHZvaWRcbikge1xuICAgIGNvbnNvbGUubG9nKFwi8J+agCBTdGFydGluZyBSZXNlYXJjaCBUYXNrIFdvcmtmbG93IChFdGhlcnMgdjYpXCIpO1xuXG4gICAgLy8gMS4gQ29ubmVjdCBXYWxsZXRcbiAgICBjb25zdCB7IHNpZ25lciwgYWRkcmVzcyB9ID0gYXdhaXQgY29ubmVjdFdhbGxldCgpO1xuICAgIGNvbnNvbGUubG9nKFwi8J+RpCBDb25uZWN0ZWQgd2FsbGV0OlwiLCBhZGRyZXNzKTtcblxuICAgIC8vIDIuIExvYWQgcmVnaXN0cnlcbiAgICBjb25zdCByZXNlYXJjaFRyZWFzdXJ5QWRkciA9IEFHRU5UX1JFR0lTVFJZLnJlc2VhcmNoX2FnZW50LnRyZWFzdXJ5X2FkZHJlc3M7XG4gICAgY29uc3QgZGF0YUFnZW50QWRkciA9IEFHRU5UX1JFR0lTVFJZLmRhdGFfYWdlbnQudHJlYXN1cnlfYWRkcmVzcztcbiAgICBjb25zdCBzZW9BZ2VudEFkZHIgPSBBR0VOVF9SRUdJU1RSWS5zZW9fYWdlbnQudHJlYXN1cnlfYWRkcmVzcztcbiAgICBjb25zdCBmb3JtYXR0aW5nQWdlbnRBZGRyID0gQUdFTlRfUkVHSVNUUlkuZm9ybWF0dGluZ19hZ2VudC50cmVhc3VyeV9hZGRyZXNzO1xuXG4gICAgLy8g4pyFIEZJWCAxIOKAlCBSZWdpc3RyeSBzYW5pdHkgY2hlY2tcbiAgICBpZiAoXG4gICAgICAgICFyZXNlYXJjaFRyZWFzdXJ5QWRkciB8fFxuICAgICAgICAhZGF0YUFnZW50QWRkciB8fFxuICAgICAgICAhc2VvQWdlbnRBZGRyIHx8XG4gICAgICAgICFmb3JtYXR0aW5nQWdlbnRBZGRyXG4gICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIuKdjCBBZ2VudCByZWdpc3RyeSBpcyBtaXNzaW5nIHRyZWFzdXJ5IGFkZHJlc3Nlc1wiKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhcIvCfk5IgUmVnaXN0cnkgT0tcIik7XG5cbiAgICAvLyAzLiBJbnN0YW50aWF0ZSBjb250cmFjdHNcbiAgICBjb25zdCByb3V0ZXIgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KFxuICAgICAgICBQUk9UT0NPTF9ST1VURVJfQUREUkVTUyxcbiAgICAgICAgUk9VVEVSX0FCSSxcbiAgICAgICAgc2lnbmVyXG4gICAgKTtcblxuICAgIGNvbnN0IHJlc2VhcmNoVHJlYXN1cnkgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KFxuICAgICAgICByZXNlYXJjaFRyZWFzdXJ5QWRkcixcbiAgICAgICAgQUdFTlRfVFJFQVNVUllfQUJJLFxuICAgICAgICBzaWduZXJcbiAgICApO1xuXG4gICAgLy8g4pyFIEZJWCAyIOKAlCBFeGVjdXRpb24gYXV0aG9yaXR5IGNoZWNrXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdHJlYXN1cnlPd25lciA9IGF3YWl0IHJlc2VhcmNoVHJlYXN1cnkub3duZXIoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCLwn4+mIFJlc2VhcmNoIFRyZWFzdXJ5IE93bmVyOlwiLCB0cmVhc3VyeU93bmVyKTtcbiAgICAgICAgY29uc29sZS5sb2coXCLinI3vuI8gQ29ubmVjdGVkIFdhbGxldDpcIiwgYWRkcmVzcyk7XG5cbiAgICAgICAgaWYgKHRyZWFzdXJ5T3duZXIudG9Mb3dlckNhc2UoKSAhPT0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCLimqDvuI8gV2FsbGV0IGlzIE5PVCB0cmVhc3VyeSBvd25lciDigJQgZXhlY3V0ZSgpIG1heSByZXZlcnRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBXYWxsZXQgSVMgdHJlYXN1cnkgb3duZXJcIik7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLihLnvuI8gVHJlYXN1cnkgaGFzIG5vIG93bmVyKCkgb3IgdXNlcyByb2xlLWJhc2VkIGF1dGhcIik7XG4gICAgfVxuXG4gICAgLy8gNC4gRmV0Y2ggcGF5bWVudCB0b2tlbiAoQVVTRClcbiAgICBjb25zb2xlLmxvZyhcIvCfkrAgRmV0Y2hpbmcgcGF5bWVudCB0b2tlbi4uLlwiKTtcbiAgICBjb25zdCBhdXNkQWRkcmVzcyA9IGF3YWl0IHJvdXRlci5wYXltZW50VG9rZW4oKTtcbiAgICBjb25zb2xlLmxvZyhcIkFVU0QgQWRkcmVzczpcIiwgYXVzZEFkZHJlc3MpO1xuXG4gICAgY29uc3QgYXVzZCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYXVzZEFkZHJlc3MsIEVSQzIwX0FCSSwgc2lnbmVyKTtcblxuICAgIC8vIDUuIEFsbG93YW5jZSBjaGVja1xuICAgIGNvbnN0IGN1cnJlbnRBbGxvd2FuY2UgPSBhd2FpdCBhdXNkLmFsbG93YW5jZShcbiAgICAgICAgcmVzZWFyY2hUcmVhc3VyeUFkZHIsXG4gICAgICAgIFBST1RPQ09MX1JPVVRFUl9BRERSRVNTXG4gICAgKTtcblxuICAgIGNvbnN0IHJlcXVpcmVkQW1vdW50ID0gZXRoZXJzLnBhcnNlRXRoZXIoXCIxLjBcIik7XG5cbiAgICBpZiAoY3VycmVudEFsbG93YW5jZSA8IHJlcXVpcmVkQW1vdW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+TnSBBcHByb3Zpbmcgcm91dGVyIHRvIHNwZW5kIEFVU0RcIik7XG5cbiAgICAgICAgb25Mb2coe1xuICAgICAgICAgICAgdGFzazogXCJBcHByb3ZpbmcgUGF5bWVudCBSb3V0ZXJcIixcbiAgICAgICAgICAgIGFnZW50TmFtZTogXCJSZXNlYXJjaCBUcmVhc3VyeVwiLFxuICAgICAgICAgICAgYW1vdW50OiBcIjAuMDBcIixcbiAgICAgICAgICAgIHN0YXR1czogXCJwZW5kaW5nXCJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgYXBwcm92ZVR4ID0gYXdhaXQgcmVzZWFyY2hUcmVhc3VyeS5hcHByb3ZlVG9rZW4oXG4gICAgICAgICAgICBhdXNkQWRkcmVzcyxcbiAgICAgICAgICAgIFBST1RPQ09MX1JPVVRFUl9BRERSRVNTLFxuICAgICAgICAgICAgZXRoZXJzLk1heFVpbnQyNTZcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIkFwcHJvdmFsIHR4OlwiLCBhcHByb3ZlVHguaGFzaCk7XG4gICAgICAgIGF3YWl0IGFwcHJvdmVUeC53YWl0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIEFwcHJvdmFsIGNvbmZpcm1lZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBBbGxvd2FuY2UgYWxyZWFkeSBzdWZmaWNpZW50XCIpO1xuICAgIH1cblxuICAgIC8vIDYuIFBheW1lbnQgcGxhblxuICAgIGNvbnN0IHBheW1lbnRzID0gW1xuICAgICAgICB7IHJlY2lwaWVudDogZGF0YUFnZW50QWRkciwgYW1vdW50OiBcIjAuMjBcIiwgdGFzazogXCJEYXRhIENvbGxlY3Rpb25cIiwgYWdlbnROYW1lOiBcIkRhdGEgQWdlbnRcIiB9LFxuICAgICAgICB7IHJlY2lwaWVudDogc2VvQWdlbnRBZGRyLCBhbW91bnQ6IFwiMC4xMFwiLCB0YXNrOiBcIlNFTyBPcHRpbWl6YXRpb25cIiwgYWdlbnROYW1lOiBcIlNFTyBBZ2VudFwiIH0sXG4gICAgICAgIHsgcmVjaXBpZW50OiBmb3JtYXR0aW5nQWdlbnRBZGRyLCBhbW91bnQ6IFwiMC4wNVwiLCB0YXNrOiBcIkZvcm1hdHRpbmdcIiwgYWdlbnROYW1lOiBcIkZvcm1hdHRpbmcgQWdlbnRcIiB9XG4gICAgXTtcblxuICAgIC8vIDcuIEV4ZWN1dGUgcGF5bWVudHNcbiAgICBmb3IgKGNvbnN0IHBheSBvZiBwYXltZW50cykge1xuICAgICAgICBjb25zb2xlLmxvZyhg4p6h77iPIFBheWluZyAke3BheS5hZ2VudE5hbWV9YCk7XG5cbiAgICAgICAgb25Mb2coe1xuICAgICAgICAgICAgdGFzazogcGF5LnRhc2ssXG4gICAgICAgICAgICBhZ2VudE5hbWU6IHBheS5hZ2VudE5hbWUsXG4gICAgICAgICAgICBhbW91bnQ6IHBheS5hbW91bnQsXG4gICAgICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWxsZGF0YSA9IHJvdXRlci5pbnRlcmZhY2UuZW5jb2RlRnVuY3Rpb25EYXRhKFxuICAgICAgICAgICAgICAgIFwicHJvY2Vzc1BheW1lbnRcIixcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIHBheS5yZWNpcGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGV0aGVycy5wYXJzZUV0aGVyKHBheS5hbW91bnQpLFxuICAgICAgICAgICAgICAgICAgICBgUGF5bWVudCBmb3IgJHtwYXkudGFza31gXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgdHggPSBhd2FpdCByZXNlYXJjaFRyZWFzdXJ5LmV4ZWN1dGUoXG4gICAgICAgICAgICAgICAgUFJPVE9DT0xfUk9VVEVSX0FERFJFU1MsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBjYWxsZGF0YVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUeCBzZW50OlwiLCB0eC5oYXNoKTtcbiAgICAgICAgICAgIGF3YWl0IHR4LndhaXQoKTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSAke3BheS50YXNrfSBjb21wbGV0ZWApO1xuXG4gICAgICAgICAgICBvbkxvZyh7XG4gICAgICAgICAgICAgICAgdGFzazogYCR7cGF5LnRhc2t9IC0gQ29uZmlybWVkYCxcbiAgICAgICAgICAgICAgICBhZ2VudE5hbWU6IHBheS5hZ2VudE5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBwYXkuYW1vdW50LFxuICAgICAgICAgICAgICAgIHR4SGFzaDogdHguaGFzaCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgUGF5bWVudCBmYWlsZWQ6XCIsIGVycik7XG5cbiAgICAgICAgICAgIG9uTG9nKHtcbiAgICAgICAgICAgICAgICB0YXNrOiBgJHtwYXkudGFza30gLSBGQUlMRURgLFxuICAgICAgICAgICAgICAgIGFnZW50TmFtZTogcGF5LmFnZW50TmFtZSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IHBheS5hbW91bnQsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcImVycm9yXCJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2V0UmV2ZXJ0UmVhc29uKGVycikpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXCLwn46JIFJlc2VhcmNoIFRhc2sgV29ya2Zsb3cgQ29tcGxldGVkXCIpO1xuICAgIHJldHVybiBcIlNVQ0NFU1NcIjtcbn1cbiJdLCJuYW1lcyI6WyJldGhlcnMiLCJBR0VOVF9SRUdJU1RSWSIsIlBST1RPQ09MX1JPVVRFUl9BRERSRVNTIiwiUk9VVEVSX0FCSSIsIkVSQzIwX0FCSSIsImNvbm5lY3RXYWxsZXQiLCJBR0VOVF9UUkVBU1VSWV9BQkkiLCJnZXRSZXZlcnRSZWFzb24iLCJlcnIiLCJpbmZvIiwiZXJyb3IiLCJtZXNzYWdlIiwicnVuUmVzZWFyY2hUYXNrIiwib25Mb2ciLCJjb25zb2xlIiwibG9nIiwic2lnbmVyIiwiYWRkcmVzcyIsInJlc2VhcmNoVHJlYXN1cnlBZGRyIiwicmVzZWFyY2hfYWdlbnQiLCJ0cmVhc3VyeV9hZGRyZXNzIiwiZGF0YUFnZW50QWRkciIsImRhdGFfYWdlbnQiLCJzZW9BZ2VudEFkZHIiLCJzZW9fYWdlbnQiLCJmb3JtYXR0aW5nQWdlbnRBZGRyIiwiZm9ybWF0dGluZ19hZ2VudCIsIkVycm9yIiwicm91dGVyIiwiQ29udHJhY3QiLCJyZXNlYXJjaFRyZWFzdXJ5IiwidHJlYXN1cnlPd25lciIsIm93bmVyIiwidG9Mb3dlckNhc2UiLCJ3YXJuIiwiYXVzZEFkZHJlc3MiLCJwYXltZW50VG9rZW4iLCJhdXNkIiwiY3VycmVudEFsbG93YW5jZSIsImFsbG93YW5jZSIsInJlcXVpcmVkQW1vdW50IiwicGFyc2VFdGhlciIsInRhc2siLCJhZ2VudE5hbWUiLCJhbW91bnQiLCJzdGF0dXMiLCJhcHByb3ZlVHgiLCJhcHByb3ZlVG9rZW4iLCJNYXhVaW50MjU2IiwiaGFzaCIsIndhaXQiLCJwYXltZW50cyIsInJlY2lwaWVudCIsInBheSIsImNhbGxkYXRhIiwiaW50ZXJmYWNlIiwiZW5jb2RlRnVuY3Rpb25EYXRhIiwidHgiLCJleGVjdXRlIiwidHhIYXNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/runResearchTask.ts\n"));

/***/ })

});